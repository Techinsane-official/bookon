# BookOn Environment Configuration
# Copy this file to .env and fill in your values

# =============================================================================
# APPLICATION CONFIGURATION
# =============================================================================
NODE_ENV=development
PORT=3000
FRONTEND_URL=http://localhost:3001
API_BASE_URL=http://localhost:3000/api/v1

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# PostgreSQL
DATABASE_URL=postgresql://bookon_user:bookon_password@localhost:5432/bookon
DB_HOST=localhost
DB_PORT=5432
DB_NAME=bookon
DB_USER=bookon_user
DB_PASSWORD=bookon_password

# Redis
REDIS_URL=redis://localhost:6379
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=

# =============================================================================
# STRIPE CONFIGURATION
# =============================================================================
# Stripe API Keys (Test mode for development)
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key_here
STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_publishable_key_here
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret_here

# Stripe Connect (Marketplace)
STRIPE_CONNECT_CLIENT_ID=ca_your_connect_client_id_here
STRIPE_CONNECT_REDIRECT_URI=http://localhost:3000/api/v1/auth/stripe/connect/callback

# Platform fees (in pence/cents)
PLATFORM_FEE_AMOUNT=50
PLATFORM_FEE_PERCENTAGE=2.9

# =============================================================================
# EMAIL CONFIGURATION
# =============================================================================
# SendGrid (Primary)
SENDGRID_API_KEY=SG_your_sendgrid_api_key_here
SENDGRID_FROM_EMAIL=noreply@bookon.com
SENDGRID_FROM_NAME=BookOn

# AWS SES (Alternative)
AWS_SES_ACCESS_KEY_ID=your_aws_access_key_id
AWS_SES_SECRET_ACCESS_KEY=your_aws_secret_access_key
AWS_SES_REGION=eu-west-1
AWS_SES_FROM_EMAIL=noreply@bookon.com

# Email templates
EMAIL_TEMPLATE_DIR=./templates/emails

# =============================================================================
# AUTHENTICATION & SECURITY
# =============================================================================
# JWT Configuration
JWT_SECRET=your_super_secret_jwt_key_here_make_it_long_and_random
JWT_REFRESH_SECRET=your_super_secret_refresh_key_here_make_it_long_and_random
JWT_EXPIRES_IN=15m
JWT_REFRESH_EXPIRES_IN=7d

# Password hashing
BCRYPT_ROUNDS=12

# Session configuration
SESSION_SECRET=your_session_secret_here
SESSION_MAX_AGE=86400000 # 24 hours in milliseconds

# Rate limiting
RATE_LIMIT_WINDOW_MS=900000 # 15 minutes
RATE_LIMIT_MAX_REQUESTS=100

# =============================================================================
# FILE UPLOAD & STORAGE
# =============================================================================
# AWS S3 (for file uploads)
AWS_S3_BUCKET=bookon-uploads
AWS_S3_REGION=eu-west-1
AWS_S3_ACCESS_KEY_ID=your_s3_access_key_id
AWS_S3_SECRET_ACCESS_KEY=your_s3_secret_access_key

# File upload limits
MAX_FILE_SIZE=5242880 # 5MB in bytes
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/gif,application/pdf

# =============================================================================
# LOGGING & MONITORING
# =============================================================================
# Logging level
LOG_LEVEL=debug # debug, info, warn, error

# Sentry (Error tracking)
SENTRY_DSN=your_sentry_dsn_here
SENTRY_ENVIRONMENT=development

# =============================================================================
# NOTIFICATIONS & WEBSOCKETS
# =============================================================================
# WebSocket configuration
WS_PORT=3002
WS_PATH=/ws

# Push notifications (Phase 2)
VAPID_PUBLIC_KEY=your_vapid_public_key_here
VAPID_PRIVATE_KEY=your_vapid_private_key_here

# =============================================================================
# DEVELOPMENT & TESTING
# =============================================================================
# Test database
TEST_DATABASE_URL=postgresql://bookon_user:bookon_password@localhost:5432/bookon_test

# Seed data
SEED_DATA_ENABLED=true
SEED_DATA_PATH=./scripts/seed-data.sql

# =============================================================================
# EXTERNAL INTEGRATIONS
# =============================================================================
# Google Maps (for venue locations)
GOOGLE_MAPS_API_KEY=your_google_maps_api_key_here

# Twilio (for SMS - Phase 2)
TWILIO_ACCOUNT_SID=your_twilio_account_sid
TWILIO_AUTH_TOKEN=your_twilio_auth_token
TWILIO_PHONE_NUMBER=your_twilio_phone_number

# =============================================================================
# GDPR & COMPLIANCE
# =============================================================================
# Data retention (in days)
DATA_RETENTION_AUDIT_LOGS=2555 # 7 years
DATA_RETENTION_EMAIL_LOGS=365 # 1 year
DATA_RETENTION_NOTIFICATIONS=90 # 3 months
DATA_RETENTION_USER_SESSIONS=30 # 30 days

# Privacy settings
PRIVACY_POLICY_URL=https://bookon.com/privacy
TERMS_OF_SERVICE_URL=https://bookon.com/terms
COOKIE_POLICY_URL=https://bookon.com/cookies
